
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<base href="http://www.bobsguides.com/" />
<link rel="canonical" href="http://www.bobsguides.com/quickemail-snippet-tutorial.html" />
<script type="text/javascript">
if (document.images) 
{
   img1 = new Image();
   img2 = new Image();
   img3 = new Image();
   img4 = new Image();
   img1.src = "images/headsig_7.jpg";
   img2.src = "images/headsig_6.jpg"
   img3.src = "images/headsig-books.jpg"
   img4.src = "images/parchment.jpg";
}
</script>

<meta name="copyright" content="2007-2009, Bob Ray" />
<meta name="author" content="Bob Ray" />
<title>Bob's Guides | QuickEmail Snippet Tutorial</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="keywords" content="Bob's guides, Bob Ray" />
<meta name="description" content="A compendium of MODx information for beginning or advanced MODx users." />
<meta name="verify-v1" content="x9fezQCnjzgtopNXuXsYir3Y9OdZeWvHO9oh0CnGM1Q=" />

<link rel="stylesheet" href="css/guides2.css" type="text/css" />

<style type="text/css" media="screen"><!-- // --><![CDATA[
body {width:expression(documentElement.clientWidth < 750 ? "750px" : "auto" )}
// ]]></style>

<script type="text/javascript">var MODX_MEDIA_PATH = "media";</script> 
<link rel="stylesheet" media="all" type="text/css" href="assets/templates/wayfinder/dropdown.css" />
<!--[if lte IE 6]>
<link rel="stylesheet" media="all" type="text/css" href="assets/templates/wayfinder/dropdown_ie.css" />
<![endif]-->
 
</head>

<body>
<!--[if IE]>
    <div id="IEroot">
<![endif]-->

<div id="outer_wrapper">
<div id="wrapper">

    
    <div id="header">
    
     <img width="565" height="150" src="images/headsig_7.jpg" alt="Bob's Guides Logo" />         <!-- <br><br><br>
        <h1>Bob's Guides</h1><br> -->
        <!-- <h2>Bob Ray</h2> -->

    </div><!--  header  -->
        
<div class="menu">
    <ul>
        <li class="hide"><a href="http://www.bobsguides.com/" title="Bob's Guides Home Page">Bob's Guides Home</a></li> 
<li><a  class="hide" href="/bread.html" title="Bread">Bread</a>
    <!--[if lte IE 6]>
    <a class="sub" href="/bread.html" title="Bread">Bread
    <table><tr><td>
    <![endif]-->
    <ul>
    <li><a href="/fritalian-bread.html" title="Fritalian Bread">Fritalian Bread</a></li> 
<li><a href="/foolproof-bread.html" title="Foolproof Bread">Foolproof Bread</a></li> 
<li class="last"><a href="/bread-calculator.html" title="Bob's Foolproof Bread Calculator">Bread Calculator</a></li> 

</ul>

    <!--[if lte IE 6]>
	</td></tr></table>
    </a>
    <![endif]-->
</li>
 
<li><a  class="hide active" href="/MODx.html" title="The MODx CMS">MODx</a>
    <!--[if lte IE 6]>
    <a class="sub" href="/MODx.html" title="The MODx CMS">MODx
    <table><tr><td>
    <![endif]-->
    <ul>
    <li><a  class="hide" href="/modx-revolution.html" title="Revolution">Revolution</a>
    <!--[if lte IE 6]>
    <a class="sub" href="/modx-revolution.html" title="Revolution">Revolution
    <table><tr><td>
    <![endif]-->
    <ul>
    <li><a href="/revolution-objects.html" title="Revolution Objects">Revolution Objects</a></li> 
<li><a href="/revolution-tags.html" title="Revolution Tags">Revolution Tags</a></li> 
<li><a href="/revolution-permissions.html" title="Revolution Permissions">Revolution Permissions</a></li> 
<li><a href="/custom-db-tables.html" title="Custom DB Tables">Custom DB Tables</a></li> 
<li class="last"><a href="/migrating-revolution.html" title="Migrating to Revolution">Migrate to Revolution</a></li> 

</ul>

    <!--[if lte IE 6]>
	</td></tr></table>
    </a>
    <![endif]-->
</li>
 
<li><a href="/modx-links.html" title="MODx Links">MODx Links</a></li> 
<li><a href="/modx-cache.html" title="The MODx Cache">Modx Cache</a></li> 
<li><a  class="hide" href="/getting-started.html" title="Getting Started with MODx">Getting Started</a>
    <!--[if lte IE 6]>
    <a class="sub" href="/getting-started.html" title="Getting Started with MODx">Getting Started
    <table><tr><td>
    <![endif]-->
    <ul>
    <li><a href="/where-to-put-stuff.html" title="Where To Put Stuff">Where To Put Stuff</a></li> 

</ul>

    <!--[if lte IE 6]>
	</td></tr></table>
    </a>
    <![endif]-->
</li>
 
<li><a  class="hide" href="/modx-faqs.html" title="MODx FAQs">MODx FAQs</a>
    <!--[if lte IE 6]>
    <a class="sub" href="/modx-faqs.html" title="MODx FAQs">MODx FAQs
    <table><tr><td>
    <![endif]-->
    <ul>
    <li><a href="/modx-newbie-faq.html" title="The MODx Newbie FAQ">MODx Newbie FAQ</a></li> 
<li><a href="/modx-installation-faq.html" title="MODx Installation FAQ">MODx Installation FAQ</a></li> 
<li><a href="/modx-upgrade-faq.html" title="MODx Upgrade FAQ">Modx Upgrade FAQ</a></li> 
<li><a href="/spform-faq.html" title="SPForm FAQ">SPForm FAQ</a></li> 
<li><a href="/modx-snippet-faq.html" title="MODx Snippet FAQ">MODx Snippet FAQ</a></li> 
<li class="last"><a href="/modx-advanced-faq.html" title="MODx Advanced FAQ">MODx Advanced FAQ</a></li> 

</ul>

    <!--[if lte IE 6]>
	</td></tr></table>
    </a>
    <![endif]-->
</li>
 
<li><a href="/installing-modx.html" title="Installing MODx">Installing MODx</a></li> 
<li><a href="/modx-chunks.html" title="MODx Chunks">MODx Chunks</a></li> 
<li><a href="/modx-snippets.html" title="MODx Snippets">MODx Snippets</a></li> 
<li><a href="/porting-your-site-to-modx.html" title="Porting Your Site to MODx">Porting Your Site to MODx</a></li> 
<li><a  class="hide active" href="/snippet-tutorials.html" title="Snippet Tutorials">Snippet Tutorials</a>
    <!--[if lte IE 6]>
    <a class="sub" href="/snippet-tutorials.html" title="Snippet Tutorials">Snippet Tutorials
    <table><tr><td>
    <![endif]-->
    <ul>
    <li><a href="/ezfaq-tutorial.html" title="EZfaq Snippet Tutorial">Ezfaq Tutorial</a></li> 
<li class="active">
	<a>QuickEmail Tutorial</a>
	
</li> 
<li><a href="/newspublisher-tutorial.html" title="NewsPublisher Snippet Tutorial">NewsPublisher Tutorial</a></li> 
<li><a href="/thermx-tutorial.html" title="ThermX Snippet Tutorial">Thermx Tutorial</a></li> 
<li><a href="/spform-tutorial.html" title="SPForm  Snippet Tutorial">SPForm Tutorial</a></li> 
<li><a href="/siteatoz-tutorial.html" title="SiteAtoZ Snippet Tutorial">SiteAtoZ Tutorial</a></li> 
<li class="last"><a href="/activationemail-plugin-tutorial.html" title="ActivationEmail Plugin Tutorial">ActivationEmail Plugin Tutorial</a></li> 

</ul>

    <!--[if lte IE 6]>
	</td></tr></table>
    </a>
    <![endif]-->
</li>
 
<li><a href="/modx-snippet-parameters.html" title="Snippet Parameters">Snippet Parameters</a></li> 
<li><a href="/sorting-problem.html" title="Sorting Problem">Sorting Problem</a></li> 
<li><a href="/permissions.html" title="Permissions (Evo)">Permissions (Evo)</a></li> 
<li><a href="/object-names-old-new.html" title="MODx Object Names">Object Names (old/new)</a></li> 
<li><a href="/convert-db-utf8.html" title="Convert Database Charset">Convert Database Charset</a></li> 
<li class="hide"><a href="/insidious-modx-errors.html" title="Insidious MODx Errors">Insidious MODx Errors</a></li> 
<li><a href="/modx-plugins.html" title="Plugins">MODx Plugins</a></li> 
<li class="last"><a href="/xampp.html" title="XAMPP">XAMPP</a></li> 

</ul>

    <!--[if lte IE 6]>
	</td></tr></table>
    </a>
    <![endif]-->
</li>
 
<li><a  class="hide" href="/vista-tweaks.html" title="Windows Vista Tweaks">Vista Tweaks</a>
    <!--[if lte IE 6]>
    <a class="sub" href="/vista-tweaks.html" title="Windows Vista Tweaks">Vista Tweaks
    <table><tr><td>
    <![endif]-->
    <ul>
    <li><a href="/CopyingFiles.html" title="Copying Files">Copying Files</a></li> 
<li><a href="/VistaFileExtensions.html" title="Vista File Extensions">Vista File Extensions</a></li> 
<li><a href="/VistaRunCommand.html" title="Vista Run Command">Vista Run Command</a></li> 
<li><a href="/ThickerCursor.html" title="Thicker Cursor in Vista">Thicker Cursor</a></li> 
<li><a href="/ShowNotificationIcons.html" title="Show All Icons in Vista Notification Area">Show Notification Icons</a></li> 
<li><a href="/24.html" title="Put Control Panel Items on Start Menu">Show Control Panel Items on Start Menu</a></li> 
<li><a href="/SetVistaDefaultBrowser.html" title="Set Vista Default Browser">Set Vista Default Browser</a></li> 
<li class="last"><a href="/make-capslock-control.html" title="Change Capslock to Control Key">Remap Keyboard</a></li> 

</ul>

    <!--[if lte IE 6]>
	</td></tr></table>
    </a>
    <![endif]-->
</li>
 
<li><a  class="hide" href="/rv.html" title="RV">RV</a>
    <!--[if lte IE 6]>
    <a class="sub" href="/rv.html" title="RV">RV
    <table><tr><td>
    <![endif]-->
    <ul>
    <li><a  class="hide" href="/repair.html" title="Repair">repair</a>
    <!--[if lte IE 6]>
    <a class="sub" href="/repair.html" title="Repair">repair
    <table><tr><td>
    <![endif]-->
    <ul>
    <li><a href="/dash-movement.html" title="Dash Movement">Dash Movement</a></li> 
<li><a href="/leaking-refrigerator.html" title="Leaking Refrigerator">Leaking Refrigerator</a></li> 
<li><a href="/step-motor.html" title="Electric Steps">Electric Steps</a></li> 
<li><a href="/awning-strap.html" title="Awning Strap">Awning Strap</a></li> 
<li class="last"><a href="/dinettte-end-piece.html" title="Dinette End Piece">Dinette End Piece</a></li> 

</ul>

    <!--[if lte IE 6]>
	</td></tr></table>
    </a>
    <![endif]-->
</li>
 

</ul>

    <!--[if lte IE 6]>
	</td></tr></table>
    </a>
    <![endif]-->
</li>
 
<li class="last"><a href="/contact-form.html" title="Bob's Guides Contact Form">Contact</a></li> 

    </ul>
</div>
        
    
    <div id="container">


<!-- <div id="mycrumbs"><span class="B_crumbBox"><span class="B_firstCrumb"><a class="B_homeCrumb" href="Home.html" title="Home">Home</a></span> &raquo; <a class="B_crumb" href="MODx.html" title="The MODx CMS">The MODx CMS</a> &raquo; <a class="B_crumb" href="snippet-tutorials.html" title="Snippet Tutorials">Snippet Tutorials</a> &raquo; <span class="B_lastCrumb"><span class="B_currentCrumb">QuickEmail Snippet Tutorial</span></span></span></div> -->
    
        <div id="left">
        <div id="google-left">                 
<script type="text/javascript"><!--
google_ad_client = "pub-6359507128964525";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_ad_type = "text_image";
google_ad_channel ="";
google_color_border = "FDEFD2";
google_color_bg = "669999";
google_color_link = "0000CC";
google_color_url = "008000";
google_color_text = "000000";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div> <!-- end of google-left -->
        </div><!--     left   -->
    
        <!-- Main content starts here -->
    
    <div id="main">

            
        <h2>QuickEmail Snippet Tutorial</h2>

        <p>
This snippet is for use with MODx Revolution. QuickEmail can be used to send email from inside another snippet, but its primary use is to see if your email is working, and if not, to help diagnose and solve email problems. 
</p>
<h3>Installing QuickEmail for MODx Revolution</h3>
<p>
Go to System | Package Management on the main menu in the MODx Manager and click on the "Download Extras" button. That will take you to the Revolution Repository (AKA Web Transport Facility). Put QuickEmail in the search box and press Enter. Click on the "Download" button, and when it changes to "Downloaded," click on the "Finish" button. That should bring you back to your Package Management grid. Right click on QuickEmail and select "Install Package." The QuickEmail snippet should now be installed.</p>

<h3>Using QuickEmail</h3>
<p>
This couldn't be much simpler. Create a document in the Manager and put the following code in the Resource Content field:
</p>
<p>
[<!-- -->[<!-- -->!QuickEmail]<!-- -->] 
</p>

<p>
When you preview the document, you should receive an email at the address you specified when you installed MODx. You can go to System | System Settings the top menu and put emailsender
 in the search filter to check that address. If you don't receive an email, Change the snippet tag to look like this:
</p>

<p>
[<!-- -->[<!-- -->!QuickEmail? &debug=`1`]<!-- -->] 
</p>
<p>
Try previewing the document again and look for an error message near the bottom of the screen.
</p>

<p>
<h3>Diagnosing Email Problems</h3>
<p>If you see a message that says, "Could not instantiate mail function," it usually means that either your host has the mail() function turned off (many do) or that you 
are using a localhost install and there is no working mail server. In that case, one option is to use the MODx SMTP Systems Settings so that MODx will send the mail from an 
SMTP server (e.g., Gmail) where you have an account.</p>

<p>Go to System | System Settings and type SMTP in the search filter, then click on the grid. Set the SMTP settings to the appropriate values for your SMTP account. The following settings will work for Gmail:</p>

<pre>SMTP Authentication: Yes
SMTP Connection Prefix: tls
SMTP Hosts: smtp.gmail.com
SMTP Password: yourGmailPassword
SMTP Port: 465
SMTP User: yourGmailUsername
Use SMTP: Yes
</pre>

<p>Note that Gmail will change all the email from addresses to match your Gmail account and any settings you use in the tag will be ignored. You can have a separate account in Gmail for sending email from your site if you wish.</p>

<p>
Once you have set the SMTP settings, try previewing your page again. If there are SMTP errors, you will see a detailed account of the Server interaction. Look for any errors and correct the SMTP settings accordingly. A timeout usually means a problem with the port number or failure to set the SMTP prefix. Failure to connect to the host, usually means the SMTP hosts is incorrect or the SMTP prefix is not set correctly. If you've forgotten to set the SMTP authentication, it will remind you. If there is a problem with authentication, either the SMTP username or the SMTP password are incorrect &mdash; there's no way to tell which one is the problem.
</p>

<h3>Sending Email From Inside Another Snippet</h3>
<p>
You can use the following code to send email from inside another snippet, although it is just as easy to use the MODx mailer. The MODx mailer is also more efficient, 
because QuickEmail will do a bunch of processing and then call the MODx mailer. Don't try any of the code below until you've made sure your mail system is working using the method described above.
</p>
<pre>
$params = array(
    'debug' => '0',
    'hideOutput' =&gt; '0',
    'message' =&gt; 'Some Message',
    'subject' =&gt; 'Some Subject',
    'to' =&gt; 'someone@somewhere.com',
    'fromName' =&gt; 'Some Name',
    'emailSender' =&gt; 'someone@somewhere.com',
    'replyTo' =&gt; 'someone@somewhere.com',
    'html' =&gt; '1',
    'failureMessage' =&gt; '&lt;br /&gt;&lt;h3 style=&quot;color:red&quot;&gt;Mail Failed&lt;/h3&gt;',
    'successMessage' =&gt; '&lt;br /&gt;&lt;h3 style =&quot;color:green&quot;&gt;Mail reported successful&lt;/h3&gt;',
    'errorHeader' =&gt; '&lt;br /&gt;Mail error:',
    'smtpErrorHeader' =&gt; '&lt;br /&gt;SMTP server report:',
);

$output =  $modx->runSnippet('QuickEmail',$params);
return $output;
</pre>
<p>
Once you have things working, you may want to set 'hideOutput' to '1'. As an alternative, you can modify the $output 
variable before returning it. If 'hideOutput' is set to '1', there will be no visible output at all from the snippet &mdash; it will just 
send the email. 
</p>
<p>
All of the parameters are optional and have reasonable defaults so try
 just setting 'message', 'subject', and 'to', and see what you get.
</p>

<h3>Using The MODx Mailer to send email</h3>
<p>Since I mentioned it above, here is how you send email using the MODx built-in email function:</p>
<pre>
$modx->getService('mail', 'mail.modPHPMailer');
$modx->mail->set(modMail::MAIL_BODY, 'Some message');
$modx->mail->set(modMail::MAIL_FROM, 'someone@somewhere.com');
$modx->mail->set(modMail::MAIL_FROM_NAME, 'Your Name');
$modx->mail->set(modMail::MAIL_SENDER, 'you@yourdomain.com');
$modx->mail->set(modMail::MAIL_SUBJECT, 'Some Subject');
$modx->mail->address('to', 'somone@somewhere.com', 'UserName');
$modx->mail->address('reply-to', 'you@yourdomain.com');
$modx->mail->setHTML(true);
$sent = $modx->mail->send();
if ($sent) {
    $output = 'Mail Sent';
} else {
    $output = 'Mail Not Sent';
}
return $output;
</pre>
        
        
        
        <div id="signoff"><p>Thank you for visiting BobsGuides.com</p></div>
        <div id="sig"> <p>&nbsp;&nbsp;&mdash;&nbsp; Bob Ray</p></div>
    </div> <!--   end main div  -->
    <div class="clearing">&nbsp;</div>
    </div>     <!--  end container div -->
    
    <div id="sidebar">
            <div id="support">
                <a href="support-this-site.html"><img height="640" width="140" src="images/support5.gif" alt="support this site link" /></a>
              
            </div> <!--  support -->
        </div> <!--  sidebar -->
    
        <div class="clearing">&nbsp;</div>
    
<div id="google-bottom"    >
    <script type="text/javascript"><!--
google_ad_client = "pub-6359507128964525";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "text_image";
google_ad_channel ="";
google_color_border = "FDEFD2";
google_color_bg = "669999";
google_color_link = "0000CC";
google_color_url = "008000";
google_color_text = "000000";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>  <!-- Google0bottom -->

<div id="footer">
    <div id="google-search">
<!-- SiteSearch Google -->
<form method="get" action="http://www.google.com/custom" target="_top">
<table border="0" bgcolor="#669999">
<tr><td nowrap="nowrap" valign="top" align="left" height="32">

</td>
<td nowrap="nowrap">
<input type="hidden" name="domains" value="bobsguides.com"></input>
<label for="sbi" style="display: none">Enter your search terms</label>
<input type="text" name="q" size="31" maxlength="255" value="" id="sbi"></input>
<label for="sbb" style="display: none">Submit search form</label>
<input type="submit" name="sa" value="Google Search" id="sbb"></input>
</td></tr>
<tr>
<td>&nbsp;</td>
<td nowrap="nowrap">
<table>
<tr>
<td>
<input type="radio" name="sitesearch" value="" id="ss0"></input>
<label for="ss0" title="Search the Web"><font size="-1" color="#ffffff">Web</font></label></td>
<td>
<input type="radio" name="sitesearch" value="bobsguides.com" checked="checked" id="ss1"></input>
<label for="ss1" title="Search bobsguides.com"><font size="-1" color="#ffffff">bobsguides.com</font></label></td>
</tr>
</table>
<input type="hidden" name="client" value="pub-6359507128964525"></input>
<input type="hidden" name="forid" value="1"></input>
<input type="hidden" name="ie" value="UTF-8"></input>
<input type="hidden" name="oe" value="UTF-8"></input>
<input type="hidden" name="cof" value="GALT:#008000;GL:1;DIV:#FDEFD2;VLC:663399;AH:center;BGC:669999;LBGC:669999;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;FORID:1"></input>
<input type="hidden" name="hl" value="en"></input>
</td></tr></table>
</form>
<!-- SiteSearch Google --></div>  <!-- google-search -->
<h3>Copyright &copy; 2010 Bob Ray</h3>
<h3>Web design by &nbsp;<a href="http://unicornwebworks.com">Unicorn Web Works</a></h3>
<h3>(The CSS for these pages is based on an elegant 3-column design by Thierry Koblentz of <a href="http://tjkdesign.com/">TJK Design</a>.)</h3>
<p>&nbsp;</p><h3>Powered by <a href="http://modxcms.com">MODx&nbsp;</a><b>0.9.6</b> <i>(rev 2767)</i>.</h3><p>&nbsp;</p>
    </div> <!--  footer -->
</div><!-- /wrapper -->
</div><!-- /outer_wrapper -->
<!--[if IE]>
    </div>
<![endif]-->

</body>
</html>
